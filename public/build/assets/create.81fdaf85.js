import{u as V,y as k,N as D,a0 as E,k as j,g as $,i as O,l as T,m as e,O as g,P as v,Q as f,q as o,R as x,x as h}from"./vendor.9ac200cc.js";import{u as A,a as F}from"./app.52277fe1.js";import"./sweetalert2.1b53689f.js";import{v as R}from"./useValidator.4107c1a7.js";import"./vue-multiselect.esm.f7127d48.js";import"./Bootstrap5.88c59918.js";var b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addLocation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"address"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"phone_numbers"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emails"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createLocation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"ObjectField",name:{kind:"Name",value:"address"},value:{kind:"Variable",name:{kind:"Name",value:"address"}}},{kind:"ObjectField",name:{kind:"Name",value:"phone_numbers"},value:{kind:"Variable",name:{kind:"Name",value:"phone_numbers"}}},{kind:"ObjectField",name:{kind:"Name",value:"emails"},value:{kind:"Variable",name:{kind:"Name",value:"emails"}}},{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:400}};b.loc.source={body:`mutation addLocation (\r
    $name: String!,\r
    $address: String,\r
    $phone_numbers: String,\r
    $emails: String,\r
    $status: Int!\r
) {\r
    createLocation (\r
        input: {\r
            name: $name,\r
            address: $address,\r
            phone_numbers: $phone_numbers,\r
            emails: $emails,\r
            status: $status\r
        }\r
    ) {\r
        id\r
        name\r
    }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function p(t,a){if(t.kind==="FragmentSpread")a.add(t.name.value);else if(t.kind==="VariableDefinition"){var i=t.type;i.kind==="NamedType"&&a.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(l){p(l,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(l){p(l,a)}),t.definitions&&t.definitions.forEach(function(l){p(l,a)})}var _={};(function(){b.definitions.forEach(function(a){if(a.name){var i=new Set;p(a,i),_[a.name.value]=i}})})();function S(t,a){for(var i=0;i<t.definitions.length;i++){var l=t.definitions[i];if(l.name&&l.name.value==a)return l}}function B(t,a){var i={kind:t.kind,definitions:[S(t,a)]};t.hasOwnProperty("loc")&&(i.loc=t.loc);var l=_[a]||new Set,r=new Set,m=new Set;for(l.forEach(function(u){m.add(u)});m.size>0;){var s=m;m=new Set,s.forEach(function(u){if(!r.has(u)){r.add(u);var c=_[u]||new Set;c.forEach(function(y){m.add(y)})}})}return r.forEach(function(u){var c=S(t,u);c&&i.definitions.push(c)}),i}B(b,"addLocation");const I={class:"content d-flex flex-column flex-column-fluid",id:"kt_content"},L={class:"container-xxl",id:"kt_content_container"},M=["onSubmit"],P={class:"d-flex flex-column flex-row-fluid gap-7 gap-lg-10"},U={class:"d-flex flex-column gap-7 gap-lg-10"},C={class:"card card-flush py-4"},q=e("div",{class:"card-header"},[e("div",{class:"card-title"},[e("h2",null,"General")])],-1),Q={class:"card-body pt-0"},G={class:"mb-10 fv-row"},z=e("label",{class:"required form-label"},"Name",-1),K={class:"mb-10 fv-row"},H=e("label",{class:"form-label"},"Address",-1),J={class:"mb-10 fv-row"},W=e("label",{class:"form-label"},"Phone Numbers",-1),X=e("div",{class:"text-muted fs-7"},"If there are multiple numbers, seperate by comma (,)",-1),Y={class:"mb-10 fv-row"},Z=e("label",{class:"form-label"},"Emails",-1),ee=e("div",{class:"text-muted fs-7"},"If there are multiple emails, seperate by comma (,)",-1),te={class:"mb-10 fv-row d-flex flex-column"},ae=e("label",{class:"form-label"},"Status",-1),ne={class:"btn-group w-50","data-kt-buttons":"true","data-kt-buttons-target":"[data-kt-button]"},ie={class:"btn btn-outline-secondary text-muted text-hover-white text-active-white btn-outline btn-active-success active","data-kt-button":"true"},se=h(" Enabled "),le={class:"btn btn-outline-secondary text-muted text-hover-white text-active-white btn-outline btn-active-danger","data-kt-button":"true"},oe=h(" Disabled "),de={class:"d-flex justify-content-end"},re=e("span",{class:"indicator-label"},"Save Changes",-1),ue=e("span",{class:"indicator-progress"},[h("Please wait... "),e("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),me=[re,ue],_e={setup(t){const a=A();a.title="Add Institution",a.breadcrumbs=[{link:"/dashboard",title:"Dashboard"},{link:"/locations",title:"Institutions"},{link:"",title:"Add Institution"}];const i=V();let l=k(null),r=k(null),m=k(null),s=D({name:"",address:"",phone_numbers:"",emails:"",status:1});const{resolveClient:u}=E();u();const{mutate:c,onDone:y,onError:ce}=j(b),w=()=>{m.validate().then(async function(N){if(N=="Valid"){r.value.setAttribute("data-kt-indicator","on"),r.value.disabled=!0;try{const n=await c(s);alert("institution added successfully"),i.push("/locations"),r.value.removeAttribute("data-kt-indicator"),r.value.disabled=!1}catch(n){alert("error occurred. please try again later."),console.log(n),r.value.removeAttribute("data-kt-indicator"),r.value.disabled=!1}}else alert("Sorry, looks like there are some errors detected, please try again.")})};return $(()=>{m=R(l.value,{name:{validators:{notEmpty:{message:"Name is required"}}}}),F.initButtons()}),(N,n)=>(O(),T("div",I,[e("div",L,[e("form",{onSubmit:g(w,["prevent"]),ref_key:"form",ref:l,class:"form fv-plugins-bootstrap5 fv-plugins-framework d-flex flex-column flex-lg-row"},[e("div",P,[e("div",U,[e("div",C,[q,e("div",Q,[e("div",G,[z,v(e("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>o(s).name=d),type:"text",name:"name",class:"form-control mb-2",placeholder:"Name"},null,512),[[f,o(s).name]])]),e("div",K,[H,v(e("input",{"onUpdate:modelValue":n[1]||(n[1]=d=>o(s).address=d),type:"text",name:"address",class:"form-control mb-2",placeholder:"Address"},null,512),[[f,o(s).address]])]),e("div",J,[W,v(e("input",{"onUpdate:modelValue":n[2]||(n[2]=d=>o(s).phone_numbers=d),type:"text",name:"phone_numbers",class:"form-control mb-2",placeholder:"Phone Numbers"},null,512),[[f,o(s).phone_numbers]]),X]),e("div",Y,[Z,v(e("input",{"onUpdate:modelValue":n[3]||(n[3]=d=>o(s).emails=d),type:"text",name:"emails",class:"form-control mb-2",placeholder:"Emails"},null,512),[[f,o(s).emails]]),ee]),e("div",te,[ae,e("div",ne,[e("label",ie,[v(e("input",{"onUpdate:modelValue":n[4]||(n[4]=d=>o(s).status=d),class:"btn-check",type:"radio",name:"status",checked:"checked",value:1},null,512),[[x,o(s).status]]),se]),e("label",le,[v(e("input",{"onUpdate:modelValue":n[5]||(n[5]=d=>o(s).status=d),class:"btn-check",type:"radio",name:"status",value:0},null,512),[[x,o(s).status]]),oe])])])])])]),e("div",de,[e("button",{onClick:n[6]||(n[6]=g(d=>o(i).go(-1),["prevent"])),id:"location_create_cancel",class:"btn btn-light me-5"},"Cancel"),e("button",{ref_key:"submitButton",ref:r,type:"submit",id:"submitButton",class:"btn btn-primary"},me,512)])])],40,M)])]))}};export{_e as default};
