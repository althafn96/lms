import{u as T,U as O,y as g,N as x,a0 as L,k as j,a7 as A,g as U,i as B,l as q,m as a,O as V,P as f,Q as k,q as o,R as D,x as N}from"./vendor.9ac200cc.js";import{u as P,a as I}from"./app.52277fe1.js";import{v as M}from"./useValidator.4107c1a7.js";import"./sweetalert2.1b53689f.js";import"./Bootstrap5.88c59918.js";var p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateLocation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"address"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"phone_numbers"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emails"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateLocation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"ObjectField",name:{kind:"Name",value:"address"},value:{kind:"Variable",name:{kind:"Name",value:"address"}}},{kind:"ObjectField",name:{kind:"Name",value:"phone_numbers"},value:{kind:"Variable",name:{kind:"Name",value:"phone_numbers"}}},{kind:"ObjectField",name:{kind:"Name",value:"emails"},value:{kind:"Variable",name:{kind:"Name",value:"emails"}}},{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_numbers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emails"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:522}};p.loc.source={body:`mutation updateLocation (\r
    $id: ID!,\r
    $name: String!,\r
    $address: String,\r
    $phone_numbers: String,\r
    $emails: String,\r
    $status: Int!\r
) {\r
    updateLocation (\r
        id: $id,\r
        input: {\r
            name: $name,\r
            address: $address,\r
            phone_numbers: $phone_numbers,\r
            emails: $emails,\r
            status: $status\r
        }\r
    ) {\r
        id\r
        name\r
        address\r
        phone_numbers\r
        emails\r
        status\r
        slug\r
    }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function b(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(s){b(s,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(s){b(s,n)}),e.definitions&&e.definitions.forEach(function(s){b(s,n)})}var y={};(function(){p.definitions.forEach(function(n){if(n.name){var i=new Set;b(n,i),y[n.name.value]=i}})})();function F(e,n){for(var i=0;i<e.definitions.length;i++){var s=e.definitions[i];if(s.name&&s.name.value==n)return s}}function Q(e,n){var i={kind:e.kind,definitions:[F(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var s=y[n]||new Set,v=new Set,r=new Set;for(s.forEach(function(l){r.add(l)});r.size>0;){var m=r;r=new Set,m.forEach(function(l){if(!v.has(l)){v.add(l);var t=y[l]||new Set;t.forEach(function(c){r.add(c)})}})}return v.forEach(function(l){var t=F(e,l);t&&i.definitions.push(t)}),i}Q(p,"updateLocation");var h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getLocation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"location"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_numbers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emails"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"humanized_updated_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:202}};h.loc.source={body:`query getLocation($slug: String!) {\r
    location(slug: $slug) {\r
        id\r
        name\r
        address\r
        phone_numbers\r
        emails\r
        humanized_updated_at\r
        slug\r
    }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function _(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(s){_(s,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(s){_(s,n)}),e.definitions&&e.definitions.forEach(function(s){_(s,n)})}var S={};(function(){h.definitions.forEach(function(n){if(n.name){var i=new Set;_(n,i),S[n.name.value]=i}})})();function E(e,n){for(var i=0;i<e.definitions.length;i++){var s=e.definitions[i];if(s.name&&s.name.value==n)return s}}function z(e,n){var i={kind:e.kind,definitions:[E(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var s=S[n]||new Set,v=new Set,r=new Set;for(s.forEach(function(l){r.add(l)});r.size>0;){var m=r;r=new Set,m.forEach(function(l){if(!v.has(l)){v.add(l);var t=S[l]||new Set;t.forEach(function(c){r.add(c)})}})}return v.forEach(function(l){var t=E(e,l);t&&i.definitions.push(t)}),i}z(h,"getLocation");const C={class:"content d-flex flex-column flex-column-fluid",id:"kt_content"},G={class:"container-xxl",id:"kt_content_container"},K=["onSubmit"],H={class:"d-flex flex-column flex-row-fluid gap-7 gap-lg-10"},J={class:"d-flex flex-column gap-7 gap-lg-10"},W={class:"card card-flush py-4"},X=a("div",{class:"card-header"},[a("div",{class:"card-title"},[a("h2",null,"General")])],-1),Y={class:"card-body pt-0"},Z={class:"mb-10 fv-row"},ee=a("label",{class:"required form-label"},"Name",-1),ae={class:"mb-10 fv-row"},ne=a("label",{class:"form-label"},"Address",-1),ie={class:"mb-10 fv-row"},te=a("label",{class:"form-label"},"Phone Numbers",-1),se=a("div",{class:"text-muted fs-7"},"If there are multiple numbers, seperate by comma (,)",-1),le={class:"mb-10 fv-row"},de=a("label",{class:"form-label"},"Emails",-1),re=a("div",{class:"text-muted fs-7"},"If there are multiple emails, seperate by comma (,)",-1),oe={class:"mb-10 fv-row d-flex flex-column"},ue=a("label",{class:"form-label"},"Status",-1),me={class:"btn-group w-50","data-kt-buttons":"true","data-kt-buttons-target":"[data-kt-button]"},ce={class:"btn btn-outline-secondary text-muted text-hover-white text-active-white btn-outline btn-active-success active","data-kt-button":"true"},ve=N(" Enabled "),fe={class:"btn btn-outline-secondary text-muted text-hover-white text-active-white btn-outline btn-active-danger","data-kt-button":"true"},ke=N(" Disabled "),pe={class:"d-flex justify-content-end"},be=a("span",{class:"indicator-label"},"Save Changes",-1),he=a("span",{class:"indicator-progress"},[N("Please wait... "),a("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),_e=[be,he],De={setup(e){const n=P();n.title="Update Location",n.breadcrumbs=[{link:"/dashboard",title:"Dashboard"},{link:"/locations",title:"Locations"},{link:"",title:"Update Location"}];const i=T(),{result:s,loading:v}=O(h,{slug:i.currentRoute.value.params.slug});let r=g(null),m=g(null),l=g(null),t=x({name:"",address:"",phone_numbers:"",emails:"",status:1}),c=x({});L();const{mutate:$,onDone:ge,onError:Ne}=j(p),R=()=>{l.validate().then(async function(w){if(w=="Valid"){m.value.setAttribute("data-kt-indicator","on"),m.value.disabled=!0;try{const d=await $(t);alert("location updated successfully"),m.value.removeAttribute("data-kt-indicator"),m.value.disabled=!1}catch{alert("error occurred. please try again later."),m.value.removeAttribute("data-kt-indicator"),m.value.disabled=!1}}else alert("Sorry, looks like there are some errors detected, please try again.")})};return A(()=>{s.value&&(s.value.location?(c=s.value.location,t.id=c.id,t.name=c.name,t.address=c.address,t.phone_numbers=c.phone_numbers,t.emails=c.emails,t.status=c.status?1:0):i.push("/categories"))}),U(()=>{l=M(r.value,{name:{validators:{notEmpty:{message:"Name is required"}}}}),I.initButtons()}),(w,d)=>(B(),q("div",C,[a("div",G,[a("form",{onSubmit:V(R,["prevent"]),ref_key:"form",ref:r,class:"form fv-plugins-bootstrap5 fv-plugins-framework d-flex flex-column flex-lg-row"},[a("div",H,[a("div",J,[a("div",W,[X,a("div",Y,[a("div",Z,[ee,f(a("input",{"onUpdate:modelValue":d[0]||(d[0]=u=>o(t).name=u),type:"text",name:"name",class:"form-control mb-2",placeholder:"Name"},null,512),[[k,o(t).name]])]),a("div",ae,[ne,f(a("input",{"onUpdate:modelValue":d[1]||(d[1]=u=>o(t).address=u),type:"text",name:"address",class:"form-control mb-2",placeholder:"Address"},null,512),[[k,o(t).address]])]),a("div",ie,[te,f(a("input",{"onUpdate:modelValue":d[2]||(d[2]=u=>o(t).phone_numbers=u),type:"text",name:"phone_numbers",class:"form-control mb-2",placeholder:"Phone Numbers"},null,512),[[k,o(t).phone_numbers]]),se]),a("div",le,[de,f(a("input",{"onUpdate:modelValue":d[3]||(d[3]=u=>o(t).emails=u),type:"text",name:"emails",class:"form-control mb-2",placeholder:"Emails"},null,512),[[k,o(t).emails]]),re]),a("div",oe,[ue,a("div",me,[a("label",ce,[f(a("input",{"onUpdate:modelValue":d[4]||(d[4]=u=>o(t).status=u),class:"btn-check",type:"radio",name:"status",checked:"checked",value:1},null,512),[[D,o(t).status]]),ve]),a("label",fe,[f(a("input",{"onUpdate:modelValue":d[5]||(d[5]=u=>o(t).status=u),class:"btn-check",type:"radio",name:"status",value:0},null,512),[[D,o(t).status]]),ke])])])])])]),a("div",pe,[a("button",{onClick:d[6]||(d[6]=V(u=>o(i).go(-1),["prevent"])),id:"category_create_cancel",class:"btn btn-light me-5"},"Cancel"),a("button",{ref_key:"submitButton",ref:m,type:"submit",id:"submitButton",class:"btn btn-primary"},_e,512)])])],40,K)])]))}};export{De as default};
